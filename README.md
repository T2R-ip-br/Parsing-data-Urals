# Parsing-data-Urals

Данный проект является rest-API сервисом написанным на  языке C#, позволяющим получить сведения о ценах на сырую нефть марки "Юралс".

API предоставляет следующие сведения
  - Цена на заданную дату
  - Средняя цена за промежуток времени
  - Максимальная и минимальная цены за промежуток времени
  - Статистика по загруженным данным (список всех записей)
  
Основная работа сервиса разбита на два уровня: Controller и Service.
  - Controller : обрабатывает приходящие запросы и запрашивает даные у уровня Srvice.
  - Service : реализует всю логику обработки данных сервиса, как получение данных с сайта, парсинг данных из файла и определение запрашиваемых данных.
  * В связи с хранением данных на стороннем сайте и объеёмом данных, было принято решение об отсутствии необходимости добавления базы данных к сервису, так как это может только замедлить скорость выполнения запросов. Но в случае необходимости можно добавить ещё один уровень у которого Service будет запрашивать данные для обработки.
  
 # Работа с API:
  
  - Цена на заданную дату

Чтобы получить цену нефти на определённую дату, необходимо обратиться к API по адресу:
    
https://localhost:7201/api/parsing-urals/price?date="{dd-MM-yyyy}"
    
    * {dd-MM-yyyy} - заменяется на необходимую дату, например так: 12-06-2014;
    * В случае некорректного ввода даты появится сообщение: "Date format: dd-MM-yyyy";
    * Ответом на запрос является числовое предстовление цены;
    * В случае если нет сведений о цене по указанной дате, то API вернёт значение -1;
    
    
  - Средняя цена за промежуток времени

Чтобы получить среднюю цену нефти за определённый промежуток времени, необходимо обратиться к API по адресу:
    
https://localhost:7201/api/parsing-urals/average-price?begin-date="{dd-MM-yyyy}"&end-date="{dd-MM-yyyy}"
    
    * {dd-MM-yyyy} - заменяется на необходимую дату, например так: 12-06-2014;
    * В случае некорректного ввода даты появится сообщение: "Date format: dd-MM-yyyy";
    * Ответом на запрос является числовое предстовление цены;
    * В случае если не будет сведений за какую-то дату из указанного периода, то API вернёт значение -1;
    
    
    
  - Максимальная и минимальная цены за промежуток времени
    
Чтобы получить максимальную и минимальную цену на нефть за определённый промежуток времени, необходимо обратиться к API по адресу:
    
https://localhost:7201/api/parsing-urals/min-max-price?begin-date="{dd-MM-yyyy}"&end-date="{dd-MM-yyyy}"
    
    * {dd-MM-yyyy} - заменяется на необходимую дату, например так: 12-06-2014;
    * В случае некорректного ввода даты появится сообщение: "Date format: dd-MM-yyyy";
    * Ответом на запрос возвращается результат в формате Json с полями "MinPrice" и "MaxPrice";
    * В случае если не будет сведений за какую-то дату из указанного периода, то API вернёт значения -1;
    
    
  - Статистика по загруженным данным (список всех записей)
    
Чтобы получить список всех записей цен на нефть необходимо обратиться к API по адресу:

https://localhost:7201/api/parsing-urals/records

    * Ответом на запрос возвращается результат в формате Json с полями:
      - "BeginPriceMonitoringPeriod" - Начало периодамониторинга цен на нефть;
      - "EndPriceMonitoringPeriod"   - Конец периодамониторинга цен на нефть;
      - "AverageOilPrice"            - Средняя цена на нефть

